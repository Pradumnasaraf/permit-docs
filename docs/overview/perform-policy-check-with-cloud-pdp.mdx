---
sidebar_position: 3
title: Perform your First Policy Check
timeline: true
---

Performing your first **policy check** is a key step in understanding and validating the policies you’ve configured.
The policy decision point (PDP) lies at the heart of Permit’s Authorization system, determining whether a user is authorized
to perform specific actions on a resource. This ensures that your access control model is working as intended.

## timeline-start

## Getting Started

To perform a policy check, you’ll first need to set up your environment by importing the **Permit SDK**, initializing the **Permit
object**, and calling the **check function**. These steps allow you to programmatically verify access decisions and integrate them into
your application seamlessly.

## Installing the SDK

To get started with Permit,, you need to install the Permit SDK in your project. Open your terminal and run the following command.

```
npm install permitio
```

## Importing the Permit SDK

The next step is to import the Permit SDK into your project. The library provides all the tools you
need to interact with Permit’s APIs, including checking user permissions.

```js
import { Permit } from "permitio";
```

## Initializing the Permit object

Once the library is imported, you’ll need to initialize the Permit object. This object serves as the main interface for interacting
with Permit.

You will need your API key, which you can obtain from the Permit dashboard. We have a whole [guide](/overview/sync-your-first-user-with-api#obtain-your-api-key) for this.
This API key allows you to securely authenticate and interact with Permit’s API.

```js
const permit = new Permit({
  token: "[YOUR_API_KEY]",

  // in production, you might need to change this url to fit your deployment
  pdp: "https://cloudpdp.api.permit.io",

  // The SDK returns false if you get a timeout / network error
  // if you want it to throw an error instead, and let you handle this, uncomment this:
  // throwOnError: true,
});
```

:::tip
If you want the SDK to `emit logs`, add the below code to your Permit instance.

```js
log: {
  level: "debug";
}
```

If you want the SDK to throw errors if you get a `timeout` or `network error`, add the below code to your Permit instance.

```js
throwOnError: true;
```

:::

## Understanding the check function

The check function acts as a guard at the heart of your application’s access control system. It evaluates whether a specific user
has the necessary permissions to **perform an action on a resource**, ensuring that only authorized users can proceed. By taking key
parameters such as the `user ID`, `action`, and `resource`, the check function queries the policy engine to return a decision.

> What exactly are the arguments passed into the `permit.check()` function?

- **`user`**: a unique string id or object that identifies the user performing the action.
- **`action`**: the action performed.
- **`resource`**: the resource (object) the action is performed on. Can be a string or an object.

```js
const permitted = await permit.check("john@permit.io", "read", "document");

if (permitted) {
  console.log("John is PERMITTED to read a document");
} else {
  console.log("John is NOT PERMITTED to read a document");
}
```

> This guard mechanism is critical for enforcing your configured policies and seamlessly integrating authorization into your
> application’s workflows.

:::note
The check function can accept various arguments beyond the user and resource.
:::

## Using the cloud PDP to run our first check

To perform our first policy check, we need to identify an enforcement point in our code—this is where the check function comes into
play. For this example, we’ll build on the policy configured in our [first walkthrough](/overview/configure-your-first-rbac-policy).

> Below is the policy we’ll be working with. As shown, the `Admin` role has permissions to `create, delete, publish, and read`,
> but notably, it does not have permission to `update`.

<img
  src="/img/updated/walkthroughs/first-policy-check/basic-policy.png"
  alt="Copy secret key from user menu"
  data-zoomable
/>

> We also have two users in our setup, but only one of them has the Admin role assigned. For this example, we’ll focus on checking the
> permissions assigned to Macy Smith, who holds the Admin role.

<img
  src="/img/updated/walkthroughs/first-policy-check/user-directory.png"
  alt="Copy secret key from user menu"
  data-zoomable
/>

> Our Permit enforcement point in the code will look like this:

```js
const permitted = permit.check("user|987654321", "update", "document");
```

> Let's run it.

<img
  src="/img/updated/walkthroughs/first-policy-check/check-result.png"
  alt="Copy secret key from user menu"
  data-zoomable
/>

:::warning
Cloud PDP is limited to RBAC policies only, with 1MB data restriction. For ABAC / ReBAC policies, you need to deploy a local PDP.

For production deployments, we recommend deploying a local PDP to minimize network latency and ensure high availability.
:::

## timeline-end

## What did you learn?

By configuring the Cloud PDP for policy checks, you’ve learned how to:

- Import and initialize the Permit SDK in your project.
- Set up an enforcement point in your code using the check function.
- Validate user permissions against your configured policies in real time.
- Leverage the flexibility of the Cloud PDP to handle RBAC policy decisions seamlessly.

:::tip FUN FACT!
Did you know that modern policy checks can process **thousands of decisions per second**?

Companies like Netflix use similar mechanisms
to authorize every single request in their systems—whether it’s playing a movie or accessing account settings.
:::
